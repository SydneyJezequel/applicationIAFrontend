
<br>

<h2> Bienvenue dans le module de Reconnaissance Faciale </h2>

<br>
<p class="consignes"> Exécuter les étapes encadrées les unes après les autres </p>

<br>
<br>
<br>

<div class="cadre">
  <label> Charger le jeu de données d'entrainement : </label>
  <br>
  <br>
  <br>
  <br>
  <br><select [(ngModel)]="selectedModel">
    <option value="Sélectionner un modèle" disabled selected>Sélectionner un modèle</option>
    <option *ngFor="let model of modelList" [value]="model">{{ model.valueOf() }}</option>
  </select>
  <br>
  <button (click)="selectModel()">Sélectionner le modèle de Machine Learning</button>
  <p class="consignes">Choisissez le modèle de Machine Learning en charge de la reconnaissance faciale :
  HOG est une technique de traitement d'image traditionnelle basée sur du Machine Learning.
  CNN est une technique de traitement d'image plus moderne basée sur du Deep Learning.
  Les temps de traitement du modèle CNN peuvent être très long (plusieurs minutes) par rapport à ceux de HOG.
  </p>
  <br>
  <div *ngIf="successSelectModel">
    <p class="success-message"> {{ successSelectModel }} </p>
  </div>
  <div *ngIf="errorSelectModel">
    <p class="error-message"> {{ errorSelectModel }} </p>
  </div>
  <br>
  <br>
  <br>
  <br>
  <div>
    <input type="file" (change)="onTrainingSetFileSelected($event)" />
    <button (click)="uploadTrainingSetFile()">Charger les données</button>
  </div>
  <p class="consignes">La liste de photos doit être stockée dans un fichier zip.
    Ce fichier doit être nommé avec le prénom et le nom de la personne
    à identifier : "prenom_nom". Vous pouvez charger les listes de plusieurs personnes.
    Une fois les photos chargées, cliquer sur ENTRAINER LE MODELE.</p>
  <br>
  <br>
  <br>
  <br>
    <button (click)="entrainerLeModele()">Entrainer le modèle</button>
  <br>
  <p class="consignes">L'entrainement du modèle peut prendre quelques minutes :
    Attendez le message de l'application.</p>
  <br>
  <div *ngIf="successTrainingDataSet">
    <p class="success-message"> {{ successTrainingDataSet }} </p>
  </div>
  <div *ngIf="errorTrainingDataSet">
    <p class="error-message"> {{ errorTrainingDataSet }} </p>
  </div>
</div>

<br>
<br>
<br>

<div class="cadre">
  <label> Chargement le jeu de données de validation : </label>
  <br>
  <br>
  <br>
  <div>
    <input type="file" (change)="onValidationSetFileSelected($event)" />
    <button (click)="uploadValidationSetFile()">Charger les données</button>
  </div>
  <p class="consignes">La liste de photos à tester doit être un fichier zip.
    Une fois les photos chargées, cliquer sur TESTER LE MODELE.</p>
  <br>
  <div *ngIf="loadValidationDataSetResultSuccess">
    <p class="success-message"> {{ loadValidationDataSetResultSuccess }} </p>
  </div>
  <div *ngIf="loadValidationDataSetResultError">
    <p class="error-message"> {{ loadValidationDataSetResultError }} </p>
  </div>
  <br>
  <br>
  <button (click)="validerLeModele()">Tester le modèle</button>
  <br>
  <p class="consignes">La validation du modèle prend quelques minutes :
    Les photos du jeu de test seront affichées avec le nom de la personne.</p>
  <br>
  <div *ngIf="successValidationModel">
    <p class="success-message"> {{ successValidationModel }} </p>
  </div>
  <div *ngIf="errorValidationModel">
    <p class="error-message"> {{ errorValidationModel }} </p>
  </div>
</div>

<br>
<br>
<br>

<div class="cadre">
  <label> Reconnaissance faciale : </label>
  <br>
  <br>
  <br>
  <div>
    <input type="file" (change)="onFaceIdentifyFileSelected($event)" />
    <button (click)="uploadFaceIdentify()">Charger les données</button>
  </div>
  <p class="consignes">Charger la photo d'une personne que le modèle peut reconnaitre.</p>
  <br>
  <div *ngIf="successLoadFaceIdentify ">
    <p class="success-message"> {{ successLoadFaceIdentify  }} </p>
  </div>
  <div *ngIf="errorLoadFaceIdentify">
    <p class="error-message"> {{ errorLoadFaceIdentify }} </p>
  </div>
  <br>
  <br>
  <button (click)="faceIdentify()">Reconnaitre une personne</button>
  <p class="consignes">Identifier le visage de la personne sur la photo.
  Cette action peut prendre quelques minutes : Attendez le retour
  de l'application.</p>
  <br>
  <div *ngIf="successFaceIdentify ">
    <p class="success-message"> {{ successFaceIdentify  }} </p>
  </div>
  <div *ngIf="errorFaceIdentify">
    <p class="error-message"> {{ errorFaceIdentify }} </p>
  </div>
</div>

<br>
<br>

<!-- Bouton de retour à la liste des IA -->
<button [routerLink]="'/liste-ia'">Retour à la liste des IA </button>

<br>
<br>

